(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fc78"],{b4a1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/login/user"}}},[t._v("用户首页")]),s("el-breadcrumb-item",[t._v("商品管理")]),s("el-breadcrumb-item",[t._v("商品列表")])],1),s("el-card",{staticStyle:{"margin-top":"10px"},attrs:{shadow:"always"}},[s("el-form",{staticStyle:{"margin-top":"15px"},attrs:{inline:!0}},[s("el-form-item",[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.getGoodsList},model:{value:t.listForm.query,callback:function(e){t.$set(t.listForm,"query",e)},expression:"listForm.query"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getGoodsList},slot:"append"})],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.goAddPage}},[t._v("添加商品")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList}},[s("el-table-column",{attrs:{prop:"goods_id",label:"ID",width:"100"}}),s("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"400"}}),s("el-table-column",{attrs:{prop:"goods_price",label:"商品价格",width:"100"}}),s("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"100"}}),s("el-table-column",{attrs:{prop:"add_time",label:"创建时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dataForm")(e.row.add_time)))]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("i",{staticClass:"el-icon-edit i",staticStyle:{}}),s("i",{staticClass:"el-icon-delete i",on:{click:function(s){return t.del(e.row.goods_id)}}})]}}])})],1)],1),s("el-pagination",{attrs:{"current-page":t.listForm.pagenum,"page-sizes":[8,12,16,20],"page-size":t.listForm.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],i={data(){return{goodsList:[],listForm:{query:"",pagesize:8,pagenum:1},total:0}},created(){},mounted(){this.getGoodsList()},methods:{async getGoodsList(){const{data:t}=await this.$axios.get(`https://www.liulongbin.top:8888/api/private/v1/goods?query=${this.listForm.query}&pagesize=${this.listForm.pagesize}\n        &pagenum=${this.listForm.pagenum}`);200==t.meta.status?(this.$message.success(t.meta.msg),this.goodsList=t.data.goods,this.total=t.data.total):this.$message.error(t.meta.msg)},del(t){console.log(t),this.$confirm("你是不是真的要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.delete("https://www.liulongbin.top:8888/api/private/v1/goods/"+t).then(t=>{console.log(t),200==t.data.meta.status?(this.$message.success(t.data.meta.msg),this.getGoodsList()):this.$message.error(t.data.meta.msg)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},goAddPage(){this.$router.push("/login/user/add")},handleSizeChange(t){console.log(t),this.listForm.pagesize=t,this.getGoodsList()},handleCurrentChange(t){console.log(t),this.listForm.pagenum=t,this.getGoodsList()}},computed:{},components:{}},l=i,r=s("2877"),n=Object(r["a"])(l,a,o,!1,null,"119cce86",null);e["default"]=n.exports}}]);